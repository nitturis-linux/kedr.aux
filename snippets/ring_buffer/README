Пример использования ring_buffer для вывода трассы(аналог ftrace).

При загрузке модуля rb_test.ko, в поддиректории rb_test в debugfs появляются
файлы 'control' и 'trace'.
При записи в файл 'control' в трассе сохраняется строчка "Write", при чтении - "Read".
При записи в файл 'control' больше 9 байт сохраняется строчка "Write large".
Чтение из файла trace - выводит накопленную трассу. Все прочитанные строки удаляются из трассы.

Дополнительно:

Файл 'buffer_size': чтение возвращает текущий размер буфера для сообщений,
запись - изменяет размер буфера для сообщений(текущие сообщения при этом теряются).

Файл 'reset': при открытии файла на запись очищается буфер сообщений.

Файл 'lost_messages': записанные, но утерянные по каким-либо сообщения
 (кроме случая принудительной очистки буфера сообщений).

При загрузке модуля ему можно передать размер буфера в качестве параметра 'buffer_size'.
