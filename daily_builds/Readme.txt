Система автоматической сборки и проверки KEDR.
=======================================================================
Система полезна, в частности, для выполнения ночных сборок и запусков и 
т.п. на виртуальных машинах.

Управление системой производится с отдельной машины (host). Собственно 
сборка и проверка KEDR выполняется на одной или более целевых (target) 
машинах.

Обычно target-машины - виртуальные машины (VirtualBox), объединённые в 
VirtualBox host-only network. 

Host, - как правило, обычная машина, на которой как раз установлен 
VirtualBox и зарегистрированы виртуальные target-машины.

[NB] Host может быть и одной из виртуальных машин, подключенных к 
VirtualBox host-only network. В таком случае автоматический запуск и 
выключение target-машин в build.conf надо отключить (указать пустую строку 
в качетсве значения для 'manage_vm' в build.conf или вообще этот параметр 
там не определять). Запускать и выключать необходимые target-машины в таком 
случае придётся вручную.

Настройки системы - в файле build.conf. Описание этих настроек - там же, в 
комментариях.

Список target-машин нужно задать в файле machines.list (см. пример). Для 
каждой машины указывается имя и IP адрес. Если target - виртуальная машина 
и автоматический запуск и выключение target-машин включен (в build.conf), 
имя этой target-машины должно быть как раз тем, под которым она 
зарегистрирована в VirtualBox.

Запуск системы автоматической сборки и проверки KEDR: ./build.sh
Результаты (summary, лог операций host-машины, логи с target-машин) система 
сохранит в архиве results-<дата>.tar.bz2.

Если в build.conf параметр 'email_logs' имеет непустое значение, архив с 
результатами будет отправлен по email на адреса, указанные в файле 
subscribers.list (детали см. в комментариях в subscribers.list). Делается 
это с помощью системы bs_mailer, которую предварительно надо собрать и 
установить.

На каждой target-машине работа выполняется в специально созданном каталоге: 
/tmp/kedr-<версия>.build. Туда загружается архив с исходниками KEDR 
(создаётся по содержимому репозитория, указанного в параметре 'repo_main' в 
build.conf) и скрипт target.sh.

Скрипт target.sh берётся из репозитория, указанного в параметре 'repo_aux' 
в build.conf. Путь к скрипту относительно корневого каталога репозитория 
задаётся там же в параметре 'exec_script'.

target.sh принимает на вход имя source пакета (без .tar.bz2), с которым ему 
нужно отработать. Сообщения о сборке, установке и проверке KEDR выводятся в 
основной log-файл - build.log. Можно помимо этого и другие log-файлы 
создавать. Все *.log файлы host-машина скопирует себе, они попадут и в 
архив с результатами.

=======================================================================
Требования к host-машине:
- операционная система: Linux (Windows + MSYS или Cygwin - не пойдёт)
- установленный Mercurial ('hg' должен быть в PATH)
- build.sh, build.conf, machines.list, - собственно, система автоматической 
сборки и проверки KEDR и файлы с её настройками.

Если нужны автоматический запуск и выключение target-машин, то на 
host-машине нужно следующее:
- VirtualBox 3.1.8 или новее (VBoxManage и VBoxHeadless должны быть в PATH)

=======================================================================
Требования к target-машине:
- операционная система: Linux (само собой)
- наличие пользователя с именем и паролем, указанными в build.conf - под 
этим user account по SSH host-машина будет выполнять всё необходимое на 
данной target-машине.
- доступ по SSH на target-машину должен быть возможен, т.е. все необх. для 
SSH пакеты должны быть установлены, служба sshd должна быть запущена, в 
Firewall (если есть) должно быть соотв. разрешение и т.д.
- всё необходимое для сборки и проверки KEDR: cmake, kernel headers, 
компиляторы GCC и G++ и т.д.
